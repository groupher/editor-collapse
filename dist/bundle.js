!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Collapse=t():e.Collapse=t()}(window,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=12)}([function(e,t,n){window,e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=7)}([function(e,t){function n(e,t,n){var o,r,i,a,s;function l(){var c=Date.now()-a;c<t&&c>=0?o=setTimeout(l,t-c):(o=null,n||(s=e.apply(i,r),i=r=null))}null==t&&(t=100);var c=function(){i=this,r=arguments,a=Date.now();var c=n&&!o;return o||(o=setTimeout(l,t)),c&&(s=e.apply(i,r),i=r=null),s};return c.clear=function(){o&&(clearTimeout(o),o=null)},c.flush=function(){o&&(s=e.apply(i,r),i=r=null,clearTimeout(o),o=null)},c}n.debounce=n,e.exports=n},function(e,t,n){(function(o){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let o=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&"%c"===e&&(r=++o)}),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==o&&"env"in o&&(e=o.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(4)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(3))},function(e,t,n){(function(e){!function(n,o){"use strict";var r={};n.PubSub=r;var i=n.define;!function(e){var t={},n=-1;function o(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function r(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function i(e,t,n){e(t,n)}function a(e,n,o,a){var s,l=t[n],c=a?i:r;if(t.hasOwnProperty(n))for(s in l)l.hasOwnProperty(s)&&c(l[s],e,o)}function s(e,n,r,i){var s=function(e,t,n){return function(){var o=String(e),r=o.lastIndexOf(".");for(a(e,e,t,n);-1!==r;)o=o.substr(0,r),r=o.lastIndexOf("."),a(e,o,t,n)}}(e="symbol"==typeof e?e.toString():e,n,i),l=function(e){for(var n=String(e),r=Boolean(t.hasOwnProperty(n)&&o(t[n])),i=n.lastIndexOf(".");!r&&-1!==i;)n=n.substr(0,i),i=n.lastIndexOf("."),r=Boolean(t.hasOwnProperty(n)&&o(t[n]));return r}(e);return!!l&&(!0===r?s():setTimeout(s,0),!0)}e.publish=function(t,n){return s(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return s(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,o){if("function"!=typeof o)return!1;e="symbol"==typeof e?e.toString():e,t.hasOwnProperty(e)||(t[e]={});var r="uid_"+String(++n);return t[e][r]=o,r},e.subscribeOnce=function(t,n){var o=e.subscribe(t,function(){e.unsubscribe(o),n.apply(this,arguments)});return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function(e){var n,o=0;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&o++;return o},e.getSubscriptions=function(e){var n,o=[];for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&o.push(n);return o},e.unsubscribe=function(n){var o,r,i,a="string"==typeof n&&(t.hasOwnProperty(n)||function(e){var n;for(n in t)if(t.hasOwnProperty(n)&&0===n.indexOf(e))return!0;return!1}(n)),s=!a&&"string"==typeof n,l="function"==typeof n,c=!1;if(!a){for(o in t)if(t.hasOwnProperty(o)){if(r=t[o],s&&r[n]){delete r[n],c=n;break}if(l)for(i in r)r.hasOwnProperty(i)&&r[i]===n&&(delete r[i],c=!0)}return c}e.clearSubscriptions(n)}}(r),"function"==typeof i&&i.amd?i(function(){return r}):(void 0!==e&&e.exports&&(t=e.exports=r),t.PubSub=r,e.exports=t=r)}("object"==typeof window&&window||this)}).call(this,n(6)(e))},function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return o.colors[Math.abs(t)%o.colors.length]}function o(e){let n;function a(...e){if(!a.enabled)return;const t=a,r=Number(new Date),i=r-(n||r);t.diff=i,t.prev=n,t.curr=r,n=r,e[0]=o.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return n;s++;const i=o.formatters[r];if("function"==typeof i){const o=e[s];n=i.call(t,o),e.splice(s,1),s--}return n}),o.formatArgs.call(t,e),(t.log||o.log).apply(t,e)}return a.namespace=e,a.enabled=o.enabled(e),a.useColors=o.useColors(),a.color=t(e),a.destroy=r,a.extend=i,"function"==typeof o.init&&o.init(a),o.instances.push(a),a}function r(){const e=o.instances.indexOf(this);return-1!==e&&(o.instances.splice(e,1),!0)}function i(e,t){const n=o(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return o.debug=o,o.default=o,o.coerce=function(e){return e instanceof Error?e.stack||e.message:e},o.disable=function(){const e=[...o.names.map(a),...o.skips.map(a).map(e=>"-"+e)].join(",");return o.enable(""),e},o.enable=function(e){let t;o.save(e),o.names=[],o.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")));for(t=0;t<o.instances.length;t++){const e=o.instances[t];e.enabled=o.enabled(e.namespace)}},o.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=o.skips.length;t<n;t++)if(o.skips[t].test(e))return!1;for(t=0,n=o.names.length;t<n;t++)if(o.names[t].test(e))return!0;return!1},o.humanize=n(5),Object.keys(e).forEach(t=>{o[t]=e[t]}),o.instances=[],o.names=[],o.skips=[],o.formatters={},o.selectColor=t,o.enable(o.load()),o}},function(e,t){var n=1e3,o=6e4,r=36e5,i=24*r;function a(e,t,n,o){var r=t>=1.5*n;return Math.round(e/n)+" "+o+(r?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*o;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===s&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);return t>=i?a(e,t,i,"day"):t>=r?a(e,t,r,"hour"):t>=o?a(e,t,o,"minute"):t>=n?a(e,t,n,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=r?Math.round(e/r)+"h":t>=o?Math.round(e/o)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o);const i="object"==typeof document&&null!==document,a="object"==typeof window&&null!==window&&window.self===window;if(()=>i&&a){let t;try{"undefined"!=typeof window&&(t=window.localStorage.debug)}catch(e){console.error("groupher could not enable debug.")}r.a.enable(t)}var s=(e,t="@editor/")=>r()(`${t}${e}`);const l={focusHolder:"focus-holder",mention:"cdx-mention",emoji:"cdx-emoji",editorInlineToolbarWrapper:"ce-inline-toolbar__toggler-and-button-wrapper",mentionContainer:"cdx-mention__container",emojiContainer:"cdx-emoji__container"},c={mention:"label",strike:"strike",lock:"addr",emoji:"i"},u="classList"in document.documentElement,d=e=>new RegExp("(^|\\s+)"+e+"(\\s+|$)"),p=(e,t)=>u?e.classList.contains(t):d(t).test(e.className),f=(e,t)=>{0!==t.trim().length&&(u?e.classList.add(t):p(e,t)||(e.className=e.className+" "+t))},h=(e,t)=>{0!==t.trim().length&&(u?e.classList.remove(t):e.className=e.className.replace(d(t)," "))};var m={has:p,add:f,remove:h,toggle:(e,t,n)=>{if(0===t.trim().length)return;let o;(o=void 0!==n?n?f:h:p(e,t)?h:f)(e,t)}};const g=s("utils/dom"),b=e=>e instanceof Element,y=(e,t=null,n={})=>{let o=document.createElement(e);Array.isArray(t)?o.classList.add(...t.filter(e=>!!e)):t&&o.classList.add(t);for(let e in n)"placeholder"===e?o.setAttribute("placeholder",n[e]):0===e.indexOf("data-")?o.setAttribute(e,n[e]):o[e]=n[e];return o},v=(e,t=[])=>new Promise((n,o)=>{const r=document.createElement("script");r.setAttribute("src",e),r.addEventListener("load",()=>{n(t.map(e=>{const t=window[e];return void 0===t&&console.warn(`No external named '${e}' in window`),t}))}),r.addEventListener("error",o),document.body.appendChild(r)}),C=(e,t)=>{if(e.parentNode){const n=e.parentNode.querySelectorAll("."+t.styles.settingsButton);Array.from(n).forEach(e=>e.classList.remove(t.styles.settingsButtonActive))}e.classList.add(t.styles.settingsButtonActive)},w=e=>{if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(void 0!==document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(e),o.collapse(!1),o.select()}},x=e=>{let t,n;if(window.getSelection&&(t=window.getSelection()).getRangeAt&&t.rangeCount){(n=t.getRangeAt(0)).deleteContents();const a=document.createElement("div");a.innerHTML=e;for(var o,r,i=document.createDocumentFragment();o=a.firstChild;)r=i.appendChild(o);n.insertNode(i),r&&((n=n.cloneRange()).setStartAfter(r),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}},k=function(e){if(document.body.createTextRange){const t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}else console.warn("Could not select text in node: Unsupported browser.")},E=(e,t)=>{const n=document.querySelector(`.${e}`);n&&(n.style.display=t)},S=(e,t)=>{const n=document.querySelector(`.${e}`);n&&n.remove()},T=(e,t=l.editorInlineToolbarWrapper)=>{E(t,"none"),"mention"===e?(g("keepCustomInlineToolOnly for mention"),E(l.mentionContainer,"block"),E(l.emojiContainer,"none")):"emoji"===e&&(g("keepCustomInlineToolOnly for emoji"),E(l.emojiContainer,"block"),E(l.mentionContainer,"none"))},A=(e=l.editorInlineToolbarWrapper)=>{g("restoreDefaultInlineTools: ",e),E(e,"flex"),E(l.mentionContainer,"none"),E(l.emojiContainer,"none")},O=(e,t,n="@")=>{""===t.value.trim()&&(e.replaceWith(""),x(n))},L=(e,t,n="@")=>{t&&(e.replaceWith(""),x(n))},j=(e,t,n)=>{e.replaceWith(t),n&&(n.tooltip.hide(),n.toolbar.close())},F=(e,t,n="block")=>{if(t[e].style.display!==n&&e>=0){for(let e=0;e<t.length;e+=1)t[e].style.display="none";setTimeout(()=>{t[e].style.display=n})}},_=e=>{for(let t=0;t<e.length;t+=1)e[t].style.display="none"},I="cdx-mention",M="cdx-emoji",R="inline_tmp_anchor",B=s("utils:markdown"),D="HEADER_1",P="HEADER_2",N="HEADER_3",H="UNORDERED_LIST",$="ORDERED_LIST",z="QUOTE",U="CODE",W={BOLD:new RegExp(/\*\*([\S]{1,})\*\*/),ITALIC:new RegExp(/__([\S]{1,})__/),MARKER:new RegExp(/==([\S]{1,})==/),INLINE_CODE:new RegExp(/\`([\S]{1,})\`/)},V=function(e){return{md:e[0],content:e[1],isValid:!0}},Q=e=>{switch(e){case D:return{type:"header",toolData:{level:1},config:{}};case P:return{type:"header",toolData:{level:2},config:{}};case N:return{type:"header",toolData:{level:3},config:{}};case H:return{type:"list",toolData:{style:"unordered"},config:{}};case $:return{type:"list",toolData:{style:"ordered"},config:{}};case z:return{type:"quote",toolData:{},config:{}};case U:return{type:"code",toolData:{},config:{}};default:return{isInvalid:!1,type:"",toolData:"",config:""}}},q=s("utils/emoji"),Y=s("utils/emoji");s("utils:linkCard");const K=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");var G=n(0),J=n.n(G);const X=function(e,t,n){let o=document.createElement("script");o.src=e,o.onload=t,o.onreadystatechange=t,n.appendChild(o)},Z=function(e,t,n){let o=document.createElement("link");o.rel="stylesheet",o.src=e,o.onload=t,o.onreadystatechange=t,n.appendChild(o)},ee=e=>{for(var t in e)return!1;return!0},te=(e,t)=>{const{length:n}=e;let o=-1;for(;++o<n;)if(t(e[o],o,e))return o;return-1},ne=(e,t,n)=>{const o=e.splice(t,1)[0];e.splice(n,0,o)},oe=(e,t,n)=>{const o=e[t];e[t]=e[n],e[n]=o},re=e=>"string"==typeof e||e instanceof String,ie=e=>{let t=0;for(let n=0,o=e.length;n<o;n++)t+=e.charCodeAt(n)<256?1:2;return t},ae=(e,t=20)=>re(e)?t>=ie(e)?e:`${e.slice(0,t)}...`:"??...",se=e=>{const t=/^[a-zA-Z0-9,.:;!#$%&(){}=/<>\[\]`@+\|\*\?\s\-_ ’'‘ÆÐƎƏƐƔĲŊŒẞÞǷȜæðǝəɛɣĳŋœĸſßþƿȝĄƁÇĐƊĘĦĮƘŁØƠŞȘŢȚŦŲƯY̨Ƴąɓçđɗęħįƙłøơşșţțŧųưy̨ƴÁÀÂÄǍĂĀÃÅǺĄÆǼǢƁĆĊĈČÇĎḌĐƊÐÉÈĖÊËĚĔĒĘẸƎƏƐĠĜǦĞĢƔáàâäǎăāãåǻąæǽǣɓćċĉčçďḍđɗðéèėêëěĕēęẹǝəɛġĝǧğģɣĤḤĦIÍÌİÎÏǏĬĪĨĮỊĲĴĶƘĹĻŁĽĿʼNŃN̈ŇÑŅŊÓÒÔÖǑŎŌÕŐỌØǾƠŒĥḥħıíìiîïǐĭīĩįịĳĵķƙĸĺļłľŀŉńn̈ňñņŋóòôöǒŏōõőọøǿơœŔŘŖŚŜŠŞȘṢẞŤŢṬŦÞÚÙÛÜǓŬŪŨŰŮŲỤƯẂẀŴẄǷÝỲŶŸȲỸƳŹŻŽẒŕřŗſśŝšşșṣßťţṭŧþúùûüǔŭūũűůųụưẃẁŵẅƿýỳŷÿȳỹƴźżžẓ]$/;for(let n=0,o=e.length;n<o;n++)if(!t.test(e[n]))return!1;return!0},le=s("utils:enhancer"),ce=(e,t,n)=>{n.markdown&&((e,t)=>{const n=t.blocks.getCurrentBlockIndex(),o=t.blocks.getBlockByIndex(n);if(n<0||!o)return!1;const{isValidMDStatus:r,MDType:i}=((e,t)=>{const n=e.holder.textContent.trim();let o=!0,r="";const i=" "===t;if(n.length>7)return{isValidMDStatus:!1,MDType:r};switch(!0){case"#"===n&&i:r=D;break;case"##"===n&&i:r=P;break;case("###"===n||"####"===n||"#####"===n||"######"===n)&&i:r=N;break;case"-"===n&&i:r=H;break;case"1"===n&&i:r=$;break;case">"===n&&i:r=z;break;case"```"===n:r=U;break;default:o=!1}return{isValidMDStatus:o,MDType:r}})(o,e.data);if(!r)return!1;const{isInvalid:a,type:s,toolData:l,config:c}=Q(i);B("_markdownBlockConfig: ",Q(i)),a||(t.blocks.delete(n),t.blocks.insert(s,l,c,n),t.caret.setToBlock(n,"start"))})(e,t),n.inlineMarkdown&&((e,t)=>{const n=t.blocks.getCurrentBlockIndex(),o=t.blocks.getBlockByIndex(n);if(n<0||!o)return!1;const{isValid:r,md:i,html:a}=((e,t)=>{const n=e.holder.textContent.trim(),{BOLD:o,ITALIC:r,MARKER:i,INLINE_CODE:a}=W,s=n.match(o);if(s){const{isValid:e,md:t,content:n}=V(s);return{isValid:e,md:t,html:`<b>${n}</b>`}}const l=n.match(i);if(l){const{isValid:e,md:t,content:n}=V(l);return{isValid:e,md:t,html:`<mark class=cdx-marker>${n}</mark>`}}const c=n.match(r);if(c){const{isValid:e,md:t,content:n}=V(c);return{isValid:e,md:t,html:`<i>${n}</i>`}}const u=n.match(a);if(u){const{isValid:e,md:t,content:n}=V(u);return{isValid:e,md:t,html:`<code class=inline-code>${n}</code>`}}return{isValid:!1,text:""}})(o,e.data);r&&(x(`<span id="${R}" />`),e.target.innerHTML=e.target.innerHTML.replace(i,a),k(document.querySelector(`#${R}`)),document.querySelector(`#${R}`).remove(),x("&nbsp;"))})(e,t),n.mention&&(e=>{if("@"===e.data){const e=`<${c.mention} data-sign="@" class="${I}" contenteditable="false" id="${I}" tabindex="1">&nbsp;</${c.mention}>`,t=`#${I}`;x(e);const n=document.querySelector(t).parentElement;q("mentionParent: ",n),n.innerHTML=n.innerHTML.replace("@"+e,e),q("selectNode mentionId: ",t),k(document.querySelector(t))}})(e),n.emoji&&(e=>{if(":"===e.data){Y("handleEmoji: ",e.data);const t=`<${c.emoji} class="${M}" contenteditable="false" id="${M}" tabindex="1">&nbsp;</${c.emoji}>`,n=`#${M}`;x(t);const o=document.querySelector(n).parentElement;o.innerHTML=o.innerHTML.replace(":"+t,t),k(document.querySelector(n))}})(e),n.linkCard&&((e,t)=>{const n=t.blocks.getCurrentBlockIndex(),o=t.blocks.getBlockByIndex(n);!(n<0)&&o&&((e,t)=>{const n=e.holder.textContent.trim(),o=" "===t;return!(!K.test(n)||!o)})(o,e.data)&&(t.blocks.delete(n),t.blocks.insert("linkCard",{link:"https://codex.so",meta:{title:"CodeX Team",site_name:"CodeX",description:"Club of web-development, design and marketing. We build team learning how to build full-valued projects on the world market.",image:{url:"https://codex.so/public/app/img/meta_img.png"}}},{},n),t.caret.setToBlock(n,"start"))})(e,t)},ue=(e,t,n={})=>{const o=Object.assign({markdown:!1,inlineMarkdown:!0,mention:!0,emoji:!0,linkCard:!1},n);t.listeners.on(e,"input",e=>J()(ce(e,t,o),100))},de=(e,t)=>{t.listeners.off(e,"input",n=>ce(e,t),!1),t.listeners.off(e,"keyup",e=>(e=>{if("Backspace"===e.code||"Delete"===e.code)if(window.getSelection){let e=window.getSelection();e.anchorNode.parentNode.className===I&&e.anchorNode.parentNode.remove()}else le("window Selection is not supported.")})(e),!1)};var pe=n(2),fe=n.n(pe);const he=()=>(window.PubSub||(window.PubSub=fe.a),window.PubSub),me={KEEP_PARAGRAPH_AFTER_REMOVED:"KEEP_PARAGRAPH_AFTER_REMOVED"},ge=e=>!!new RegExp("^(https:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e);n.d(t,"debounce",function(){return G.debounce}),n.d(t,"loadJS",function(){return X}),n.d(t,"loadCSS",function(){return Z}),n.d(t,"isEmptyObj",function(){return ee}),n.d(t,"findIndex",function(){return te}),n.d(t,"insertAndShift",function(){return ne}),n.d(t,"swapArrayItems",function(){return oe}),n.d(t,"isString",function(){return re}),n.d(t,"cutFrom",function(){return ae}),n.d(t,"strLen",function(){return ie}),n.d(t,"isLatinString",function(){return se}),n.d(t,"isDOM",function(){return b}),n.d(t,"make",function(){return y}),n.d(t,"showElement",function(){return F}),n.d(t,"hideElements",function(){return _}),n.d(t,"replaceEl",function(){return j}),n.d(t,"clazz",function(){return m}),n.d(t,"importScript",function(){return v}),n.d(t,"highlightSettingIcon",function(){return C}),n.d(t,"moveCaretToEnd",function(){return w}),n.d(t,"selectNode",function(){return k}),n.d(t,"insertHtmlAtCaret",function(){return x}),n.d(t,"keepCustomInlineToolOnly",function(){return T}),n.d(t,"restoreDefaultInlineTools",function(){return A}),n.d(t,"removeElementByClass",function(){return S}),n.d(t,"convertElementToTextIfNeed",function(){return O}),n.d(t,"convertElementToText",function(){return L}),n.d(t,"enhanceBlock",function(){return ue}),n.d(t,"freeEnhanceBlock",function(){return de}),n.d(t,"buildLog",function(){return s}),n.d(t,"initEventBus",function(){return he}),n.d(t,"EVENTS",function(){return me}),n.d(t,"CSS",function(){return l}),n.d(t,"INLINE_BLOCK_TAG",function(){return c}),n.d(t,"isValidURL",function(){return ge})}])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(a=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(i).concat([r]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,c=0,u=[],d=n(8);function p(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(y(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(y(o.parts[a],t));i[o.id]={id:o.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=u[u.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),b(t,e.attrs),h(e,t),t}function b(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=c++;n=l||(l=g(t)),o=w.bind(null,n,a,!1),r=w.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),h(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=d(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return p(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var a=n[r];(s=i[a.id]).refs--,o.push(s)}e&&p(f(e,t),t);for(r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var v,C=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function w(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=C(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports='<svg t="1611823471062" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2643" width="200" height="200"><path d="M591.02172645 768.66820044L966.13410352 393.55582338C990.1366009 375.54459342 1005.66475883 346.85274286 1005.66475883 314.53409694 1005.66475883 260.00539174 961.46051133 215.80114428 906.93180843 215.80114428L117.06819157 215.80114428C62.53948867 215.80114428 18.33524117 260.00539174 18.33524117 314.53409694 18.33524117 346.85274286 33.8634014 375.54459342 57.86589648 393.55582338L432.97827355 768.66820044C450.98950121 792.67069321 479.68135409 808.19885573 512 808.19885574 544.31864591 808.19885573 573.01049879 792.67069321 591.02172645 768.66820044L591.02172645 768.66820044Z" p-id="2644"></path></svg>'},function(e,t,n){var o=n(9);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t){e.exports='<svg t="1611823471062" viewBox="0 0 1024 1024" style="transform: rotate(180deg);" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2643" width="200" height="200"><path d="M591.02172645 768.66820044L966.13410352 393.55582338C990.1366009 375.54459342 1005.66475883 346.85274286 1005.66475883 314.53409694 1005.66475883 260.00539174 961.46051133 215.80114428 906.93180843 215.80114428L117.06819157 215.80114428C62.53948867 215.80114428 18.33524117 260.00539174 18.33524117 314.53409694 18.33524117 346.85274286 33.8634014 375.54459342 57.86589648 393.55582338L432.97827355 768.66820044C450.98950121 792.67069321 479.68135409 808.19885573 512 808.19885574 544.31864591 808.19885573 573.01049879 792.67069321 591.02172645 768.66820044L591.02172645 768.66820044Z" p-id="2644"></path></svg>'},function(e,t,n){var o=n(7);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".cdx-collapse {\n  width: 100%;\n}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,'.cdx-collapse-wrapper {\n  margin-bottom: 1.2rem 0;\n}\n\n.cdx-collapse-title-input {\n  outline: none;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 5px;\n  font-size: 16px;\n  font-weight: bold;\n  font-variant: tabular-nums;\n  list-style: none;\n  font-feature-settings: "tnum";\n  position: relative;\n  display: inline-block;\n  width: 60%;\n  height: 32px;\n  color: rgba(0, 0, 0, 0.65);\n  border: none;\n  line-height: 1.2;\n  background-color: transparent;\n  background-image: none;\n  border-radius: 4px;\n  transition: all 0.3s;\n}\n\n.cdx-collapse-title-input:hover {\n  background-image: none;\n}\n\n.cdx-collapse-title-input:focus {\n  background-image: none;\n}\n\n.cdx-collapse-toggle {\n  display: block;\n  padding: 14px 5px;\n  transition: all 0.25s ease-out;\n  cursor: pointer;\n}\n\n.cdx-collapse-toggle::before {\n  content: " ";\n  display: inline-block;\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n  border-left: 6px solid currentColor;\n  vertical-align: middle;\n  margin-right: 15px;\n  margin-top: -2px;\n  cursor: pointer;\n  transform: translateY(-1px);\n  transition: transform 0.3s ease-out;\n}\n\n.cdx-collapse-input-toggle[type="checkbox"] {\n  display: none;\n}\n.cdx-collapse-input-toggle:checked + .cdx-collapse-toggle::before {\n  transform: rotate(90deg) translateX(-1px);\n}\n\n.cdx-collapse-input-toggle:checked\n  + .cdx-collapse-toggle\n  + .cdx-collapse-content {\n  max-height: 350px;\n}\n\n.cdx-collapse-input-toggle:checked + .cdx-collapse-toggle {\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n  font-weight: bold;\n}\n\n.cdx-collapse-content {\n  max-height: 0px;\n  overflow: hidden;\n  transition: max-height 0.3s cubic-bezier(0.6, -0.28, 0.74, 0.05);\n}\n\n.cdx-collapse-content .content-inner {\n  font-size: 15px;\n  border-left: 1px dashed;\n  border-left-color: #dddfe2;\n  margin-left: 7px;\n  padding: 6px 0;\n  padding-left: 22px;\n  line-height: 1.6em;\n  outline: none;\n  cursor: text;\n}\n\n.cdx-collapse-content .content-inner[placeholder]:empty:before {\n  content: attr(placeholder);\n  color: grey;\n  font-style: italic;\n}\n',""])},function(e,t,n){var o=n(11);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".cdx-column-collapse-wrapper {\n  display: flex;\n  align-items: flex-start;\n  padding: 12px 0;\n  margin-bottom: 1.2rem 0;\n}\n\n.cdx-column-collapse-title {\n  letter-spacing: 1px;\n  min-width: 25%;\n  max-width: 30%;\n  margin-right: 5%;\n  cursor: text;\n  outline: none;\n  box-sizing: border-box;\n  padding: 4px;\n  padding-left: 0;\n  font-size: 1.05em;\n  font-weight: bold;\n}\n\n.cdx-column-collapse-title[placeholder]:empty:before {\n  content: attr(placeholder);\n  color: grey;\n  font-style: italic;\n}\n\n.cdx-column-collapse-content {\n  /* max-height: 40px; */\n  flex-grow: 1;\n  /* overflow: hidden; */\n  transition: max-height 0.3s cubic-bezier(0.6, -0.28, 0.74, 0.05);\n}\n\n.cdx-column-collapse-content .content-inner {\n  font-size: 1em;\n  line-height: 1.8em;\n  min-height: 25px;\n  outline: none;\n  cursor: text;\n  word-break: break-all;\n}\n\n.cdx-column-collapse-content .content-inner[placeholder]:empty:before {\n  content: attr(placeholder);\n  color: grey;\n  font-style: italic;\n}\n\n/* span 标签在设置成 contentEditable 后光标会出现问题, see https://www.google.com/search?sxsrf=ALeKk03wMsY5DAje6aM3Rt52CbE0YBFEKQ%3A1611904360046&ei=aLUTYPC_AtHrwQOloLfQCA&q=contenteditable+span+cursor+not+show&oq=contenteditable+span+cursor+not+show&gs_lcp=CgZwc3ktYWIQAzIFCCEQoAE6BAgAEEc6BAgjECc6AggAOgQIABBDOgQIABAMOgUIABDLAToECAAQHjoGCAAQBRAeOgYIABAIEB46BwghEAoQoAFQvAdY6S1g8TFoAHADeACAAYEEiAHYLZIBDDAuNC4xMC40LjEuMpgBAKABAaoBB2d3cy13aXrIAQjAAQE&sclient=psy-ab&ved=0ahUKEwjwk6vWy8DuAhXRdXAKHSXQDYoQ4dUDCA0&uact=5*/\n.cdx-column-collapse-content .content-inner:focus[placeholder]:empty:before {\n  border-left: 1px solid grey;\n  animation: blink-animation 0.8s infinite;\n  -webkit-animation: blink-animation 0.8s infinite;\n}\n\n.cdx-column-collapse-toggle {\n  display: inline;\n  width: auto;\n  font-size: 0.7em;\n  color: #6f7683;\n  background: #eff2f5;\n  padding: 3px 6px;\n  padding-top: 4px;\n  margin-left: 5px;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.cdx-column-collapse-toggle svg {\n  fill: #6f7683;\n  width: 8px;\n  height: 8px;\n  margin-right: 2px;\n  margin-top: -3px;\n}\n\n@keyframes blink-animation {\n  from {\n    border-left-color: transparent;\n  }\n  to {\n    border-left-color: inherit;\n  }\n}\n@-webkit-keyframes blink-animation {\n  to {\n    visibility: hidden;\n  }\n}\n",""])},function(e,t,n){"use strict";n.r(t);n(6),n(4);var o=n(0),r=function(e){return Object(o.isLatinString)(e)?140:50};function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}
/**
 * Collapse Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */
var a=function(){function e(t){var n=t.data,o=(t.config,t.api);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=o,this.data={title:n.title||"",content:n.content||""},this.TitleInput=null,this.CollapseContent=null,this._element=this.drawView(),this.data=n}var t,n,r;return t=e,(n=[{key:"drawView",value:function(){var e=Object(o.make)("div",[this.CSS.block,this.CSS.wrapper]),t=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"collapse_",n="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=o.length,i=0;i<e;i++)n+=o.charAt(Math.floor(Math.random()*r));return t+n}(4),n=Object(o.make)("div",this.collapseWrapper),r=Object(o.make)("input",this.CSS.inputToggle,{type:"checkbox",id:t});this.TitleInput=Object(o.make)("input",this.CSS.titleInput),this.TitleInput.value=this.data.title,this.TitleInput.placeholder="折叠块标题";var i=Object(o.make)("label",this.CSS.labelToggle);i.setAttribute("for",t),i.appendChild(this.TitleInput);var a=Object(o.make)("div",this.CSS.content);return this.CollapseContent=Object(o.make)("div",this.CSS.contentInner,{contentEditable:!0}),this.CollapseContent.innerHTML=this.data.content,this.CollapseContent.setAttribute("placeholder","折叠块内容"),a.appendChild(this.CollapseContent),n.appendChild(r),n.appendChild(i),n.appendChild(a),e.appendChild(n),e}},{key:"render",value:function(){return this._element}},{key:"save",value:function(e){return{title:this.TitleInput.value,content:this.CollapseContent.innerHTML}}},{key:"CSS",get:function(){return{block:this.api.styles.block,wrapper:"cdx-collapse",collapseWrapper:"cdx-collapse-wrapper",titleInput:"cdx-collapse-title-input",labelToggle:"cdx-collapse-toggle",inputToggle:"cdx-collapse-input-toggle",content:"cdx-collapse-content",contentInner:"content-inner"}}}])&&i(t.prototype,n),r&&i(t,r),e}(),s=(n(10),n(3)),l=n.n(s),c=n(5),u=n.n(c);function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}
/**
 * Collapse Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */
var p=function(){function e(t){var n=t.data,i=(t.config,t.api);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=i,this._data=n,this.nodes={wrapper:Object(o.make)("div",[this.CSS.block,this.CSS.wrapper]),collapseWrapper:Object(o.make)("div",this.CSS.collapseWrapper),contentWrapper:Object(o.make)("div",this.CSS.content),toggleLabel:Object(o.make)("label",this.CSS.labelToggle,{innerHTML:"".concat(l.a," 展开"),contentEditable:!1}),title:Object(o.make)("div",this.CSS.titleInput,{contentEditable:!0,"data-skip-plus-button":!0,innerHTML:this._data.title,placeholder:"折叠块标题"}),content:Object(o.make)("span",this.CSS.contentInner,{contentEditable:!0,"data-skip-plus-button":!0,innerHTML:Object(o.cutFrom)(this._data.content,r(this._data.content)),placeholder:"折叠块内容"})},this.isCollapsed=!1}var t,n,i;return t=e,(n=[{key:"drawView",value:function(){var e=this;return this.nodes.contentWrapper.appendChild(this.nodes.content),Object(o.strLen)(this._data.content)>r(this._data.content)&&(this.nodes.toggleLabel||(this.nodes.toggleLabel=Object(o.make)("label",this.CSS.labelToggle,{contentEditable:!1})),this._toggleContentEditable(!1),this.nodes.contentWrapper.appendChild(this.nodes.toggleLabel),this._toggleExpandLabel(!0,!1)),this.api.listeners.on(this.nodes.content,"input",function(t){var n=e.nodes.content.innerText;e._data.content=e.nodes.content.innerHTML,Object(o.strLen)(n)>r(n)?(e.nodes.toggleLabel||(e.nodes.toggleLabel=Object(o.make)("label",e.CSS.labelToggle,{contentEditable:!1})),e.nodes.contentWrapper.appendChild(e.nodes.toggleLabel),e._toggleExpandLabel(!0,!0)):(e._toggleExpandLabel(!1,!0),e.nodes.toggleLabel.remove())}),this.api.listeners.on(this.nodes.toggleLabel,"click",function(){e.isCollapsed?e._foldContent():e._unFoldContent()}),this.nodes.collapseWrapper.appendChild(this.nodes.title),this.nodes.collapseWrapper.appendChild(this.nodes.contentWrapper),this.nodes.wrapper.appendChild(this.nodes.collapseWrapper),this.nodes.wrapper}},{key:"_foldContent",value:function(){this.nodes.content.innerHTML=Object(o.cutFrom)(this._data.content,r(this._data.content)),this._toggleExpandLabel(!0,!1),this.nodes.content.appendChild(this.nodes.toggleLabel),this._toggleContentEditable(!1)}},{key:"_unFoldContent",value:function(){this.nodes.content.innerHTML=this._data.content,this._toggleExpandLabel(!0,!0),this.nodes.contentWrapper.appendChild(this.nodes.toggleLabel),this._toggleContentEditable(!0)}},{key:"_toggleExpandLabel",value:function(e,t){var n=this.nodes.toggleLabel;n.style.display=e?"inline":"none",t?(n.innerHTML="".concat(u.a," 收起"),this.isCollapsed=!0):(n.innerHTML="".concat(l.a," 展开"),this.isCollapsed=!1)}},{key:"_toggleContentEditable",value:function(e){e?(this.nodes.content.setAttribute("contentEditable",!0),this.nodes.content.style.cursor="text"):(this.nodes.content.setAttribute("contentEditable",!1),this.nodes.content.style.cursor="pointer")}},{key:"render",value:function(e){return this._data=e,this.drawView()}},{key:"save",value:function(e){return{title:this.nodes.title.value,content:this.nodes.content.innerHTML}}},{key:"CSS",get:function(){return{block:this.api.styles.block,wrapper:"cdx-column-collapse",collapseWrapper:"cdx-column-collapse-wrapper",titleInput:"cdx-column-collapse-title",labelToggle:"cdx-column-collapse-toggle",content:"cdx-column-collapse-content",contentInner:"content-inner"}}}])&&d(t.prototype,n),i&&d(t,i),e}();function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}
/**
 * Collapse Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */
var h=function(){function e(t){var n=t.data,o=(t.config,t.api);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=o,this._data=n,this.collapse=new a({data:n,api:o}),this.column=new p({data:n,api:o})}var t,n,o;return t=e,(n=[{key:"render",value:function(e){return this.column.render(e)}},{key:"save",value:function(e){return{}}}])&&f(t.prototype,n),o&&f(t,o),e}();function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.d(t,"default",function(){return g});
/**
 * Collapse Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */
var g=function(){function e(t){t.data,t.config;var n=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=n,this._data={title:"非常劲爆",content:"主打「轻快无边界」的 ColorOS 7 在 UI、动效和声效体验构建上精雕细琢，效率功能和系统优化上的优化也是可圈可点。主打「轻快无边界」的 ColorOS 7 在 UI、动效和声效体验构建上精雕细琢，效率功能和系统优化上的优化也是可圈可点。主打「轻快无边界」的 ColorOS 7 在 UI、动效和声效体验构建上精雕细琢 end 。"},this.ui=new h({data:this._data,api:n})}var t,n,o;return t=e,o=[{key:"enableLineBreaks",get:function(){return!1}},{key:"toolbox",get:function(){return{icon:'<svg width="19" t="1575117780012" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4865" width="200" height="200"><path d="M512 576l192 192H576v192H448v-192H320l192-192z m192-384H576V0H448v192H320l192 192 192-192z m256 128c0-35.2-28.8-64-64-64h-160l-64 64h192l-128 128h-448l-128-128h192l-64-64H128c-35.2 0-64 28.8-64 64l160 160L64 640c0 35.2 28.8 64 64 64h160l64-64h-192l128-128h448l128 128h-192l64 64H896c35.2 0 64-28.8 64-64l-160-160L960 320z" p-id="4866"></path></svg>',title:"折叠块"}}}],(n=[{key:"render",value:function(){return this.ui.render(this._data)}},{key:"save",value:function(e){return{}}}])&&m(t.prototype,n),o&&m(t,o),e}()}]).default});